<div class="validation-layout">
  <!-- HEADER ROJO -->
  <header class="uniride-header">
    <div class="header-content">
      <div class="logo-container">
        <i class="fas fa-grip-lines-vertical pole"></i>
        <i class="fas fa-car-side car-icon"></i>
        <i class="fas fa-grip-lines-vertical pole"></i>
      </div>
      <h1 class="brand-name">UNIRIDE</h1>
    </div>
  </header>

  <!-- CONTENEDOR DEL FORMULARIO -->
  <div class="form-container">

    <!-- CABECERA TEXTO -->
    <div class="validation-header">
      <h2>Verifica tu identidad para continuar</h2>
      <p>Hola {{ getUserName() }}!<br>Para continuar, verifica tu correo y DNI</p>
    </div>

    <div class="validation-card">
      <form [formGroup]="validationForm">

        <!-- SECCIÓN 1: Correo -->
        <div class="form-section">
          <div class="input-row">
            <i class="far fa-envelope icon-red"></i>
            <input
              type="email"
              formControlName="email"
              placeholder="ejemplo@upc.edu.pe"
              class="clean-input"
              [class.error-text]="isFieldInvalid('email')"
              readonly> <!-- Campo de sólo lectura -->
          </div>
          @if (isFieldInvalid('email')) {
            <small class="error-msg">Correo inválido</small>
          }

          <div class="action-row">
            <div class="info-text">
              <i class="fas fa-key icon-red-small"></i>
              <div class="text-block">
                <span>Código de verificación</span>
                <small>enviado al correo</small>
              </div>
            </div>
            <!-- Botón de Envío de Código -->

          </div>
        </div>

        <div class="divider"></div>

        <!-- SECCIÓN 2: DNI y Código -->
        <div class="form-section bottom-section">

          <!-- Input DNI -->
          <div class="input-line-group">
            <input
              type="text"
              formControlName="dni"
              placeholder="Ingresa DNI"
              class="line-input"
              maxlength="8"
              [class.error-border]="isFieldInvalid('dni')">

            <!-- Botón de formato DNI -->

          </div>
          @if (isFieldInvalid('dni')) {
            <small class="error-msg">DNI debe tener 8 dígitos</small>
          }

          <!-- Input Código -->
          <div class="input-line-group">
            <input
              type="text"
              formControlName="codigo"
              placeholder="Ingresar código"
              class="line-input"
              maxlength="6"
              [class.error-border]="isFieldInvalid('codigo')">
          </div>
          @if (isFieldInvalid('codigo')) {
            <small class="error-msg">Código requerido</small>
          }

          <!-- Mensajes de Estado -->
          @if (message()) {
            <div class="status-message" [class.error]="isError()" [class.success]="!isError()">
              {{ message() }}
            </div>
          }

          <!-- Botón Final -->
          <div class="footer-action">

          </div>

        </div>
      </form>
    </div>

    <div class="footer-note">
        <i class="fas fa-lock icon-red big-icon"></i>
        <p>Tu información será usada solo para validar que eres estudiante universitario.</p>
    </div>

  </div>
</div>
